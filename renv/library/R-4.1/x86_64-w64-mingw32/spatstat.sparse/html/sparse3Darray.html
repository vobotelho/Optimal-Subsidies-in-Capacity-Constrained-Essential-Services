<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Create a Sparse Three-Dimensional Array</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for sparse3Darray {spatstat.sparse}"><tr><td>sparse3Darray {spatstat.sparse}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>
Create a Sparse Three-Dimensional Array
</h2>

<h3>Description</h3>

<p>Create a sparse representation of a three-dimensional array.
</p>


<h3>Usage</h3>

<pre>
sparse3Darray(i = integer(0), j = integer(0), k = integer(0),
              x = numeric(0),
              dims = c(max(i), max(j), max(k)), dimnames = NULL,
              strict = FALSE, nonzero = FALSE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>i,j,k</code></td>
<td>

<p>Integer vectors of equal length (or length 1), specifying the cells in the
array which have non-zero entries.
</p>
</td></tr>
<tr valign="top"><td><code>x</code></td>
<td>

<p>Vector (numeric, integer, logical or complex)
of the same length as <code>i</code>, <code>j</code> and <code>k</code>,
giving the values of the array entries that are not zero.
</p>
</td></tr>
<tr valign="top"><td><code>dims</code></td>
<td>

<p>Dimension of the array. An integer vector of length 3.
</p>
</td></tr>
<tr valign="top"><td><code>dimnames</code></td>
<td>

<p>Names for the three margins of the array. Either <code>NULL</code>
or a list of three character vectors.
</p>
</td></tr>
<tr valign="top"><td><code>strict</code></td>
<td>

<p>Logical value specifying whether to enforce the rule that
each entry in <code>i,j,k,x</code> refers to a different cell.
If <code>strict=TRUE</code>, entries which refer to the same cell
in the array will be reduced to a single entry by summing the
<code>x</code> values. Default is <code>strict=FALSE</code>.
</p>
</td></tr>
<tr valign="top"><td><code>nonzero</code></td>
<td>

<p>Logical value specifying whether to remove any entries
of <code>x</code> which equal zero.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An array <code>A</code> is three-dimensional if it is indexed by
three integer indices, so that <code>A[i,j,k]</code> specifies an element of
the array. The array is called sparse if only a small fraction of the
entries are non-zero. A sparse array can be represented economically
by listing only the entries which are non-zero.
</p>
<p>The <span class="pkg">spatstat.sparse</span> package defines the class
<code>sparse3Darray</code> of sparse three-dimensional arrays.
These arrays can have numeric, integer, logical, or complex
entries.
</p>
<p>The function <code>sparse3Darray</code> creates an object of class
<code>"sparse3Darray"</code>. This object is essentially a list containing
the vectors <code>i,j,k,x</code> and the arguments <code>dims,dimnames</code>.
</p>
<p>The arguments <code>i,j,k,x</code> should be vectors of equal length 
identifying the cells in the array which have non-zero entries (indexed
by <code>i,j,k</code>) and giving the values in these cells (given by <code>x</code>).
</p>
<p>The default behaviour of <code>sparse3Darray</code>
is to accept the arguments <code>i,j,k,x</code> without modifying them.
This would allow some entries of <code>x</code> to be equal to zero,
and would allow a cell in the array to be referenced more than once
in the indices <code>i,j,k</code>.
</p>
<p>If <code>nonzero=TRUE</code>, entries will be removed if the <code>x</code> value
equals zero.
</p>
<p>If <code>strict=TRUE</code>, entries which refer to the same cell in the
array will be combined into a single entry by summing the <code>x</code> values.
</p>


<h3>Value</h3>

<p>An object of class <code>"sparse3Darray"</code>.
</p>


<h3>Author(s)</h3>

<p>Adrian Baddeley <a href="mailto:Adrian.Baddeley@curtin.edu.au">Adrian.Baddeley@curtin.edu.au</a>, Rolf Turner <a href="mailto:rolfturner@posteo.net">rolfturner@posteo.net</a> and Ege Rubak <a href="mailto:rubak@math.aau.dk">rubak@math.aau.dk</a>.
</p>


<h3>See Also</h3>

<p><code><a href="../../spatstat.sparse/help/as.sparse3Darray.html">as.sparse3Darray</a></code>
</p>


<h3>Examples</h3>

<pre>
  ## creation by specifying nonzero elements
  M &lt;- sparse3Darray(i=1:3, j=c(3,1,2), k=4:2,
                     x=runif(3), dims=rep(4, 3))
  M
  ## duplicate entries
  Mn &lt;- sparse3Darray(i=c(1,1,2), j=c(2,2,1), k=c(3,3,2),
                     x=runif(3), dims=rep(3, 3))
  ## cumulate entries in duplicate positions
  Ms &lt;- sparse3Darray(i=c(1,1,2), j=c(2,2,1), k=c(3,3,2),
                      x=runif(3), dims=rep(3, 3), strict=TRUE)
</pre>

<hr /><div style="text-align: center;">[Package <em>spatstat.sparse</em> version 3.1-0 <a href="00Index.html">Index</a>]</div>
</body></html>
