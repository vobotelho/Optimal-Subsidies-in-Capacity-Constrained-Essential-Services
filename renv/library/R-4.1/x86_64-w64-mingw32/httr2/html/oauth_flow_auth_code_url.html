<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: OAuth authorization code components</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for oauth_flow_auth_code_url {httr2}"><tr><td>oauth_flow_auth_code_url {httr2}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>OAuth authorization code components</h2>

<h3>Description</h3>

<p>These low-level functions can be used to assemble a custom flow for
APIs that are further from the spec:
</p>

<ul>
<li> <p><code>oauth_flow_auth_code_url()</code> generates the url that should be opened in a
browser.
</p>
</li>
<li> <p><code>oauth_flow_auth_code_listen()</code> starts a temporary local webserver that
listens for the response from the resource server.
</p>
</li>
<li> <p><code>oauth_flow_auth_code_parse()</code> parses the query parameters returned from
the server redirect, verifying that the <code>state</code> is correct, and returning
the authorisation code.
</p>
</li>
<li> <p><code>oauth_flow_auth_code_pkce()</code> generates code verifier, method, and challenge
components as needed for PKCE, as defined in <a href="https://datatracker.ietf.org/doc/html/rfc7636">RFC 7636</a>.
</p>
</li></ul>



<h3>Usage</h3>

<pre>
oauth_flow_auth_code_url(
  client,
  auth_url,
  redirect_uri = NULL,
  scope = NULL,
  state = NULL,
  auth_params = list()
)

oauth_flow_auth_code_listen(redirect_uri = "http://localhost:1410")

oauth_flow_auth_code_parse(query, state)

oauth_flow_auth_code_pkce()
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>state</code></td>
<td>
<p>Random state generated by <code>oauth_flow_auth_code()</code>. Used to
verify that we're working with an authentication request that we created.
(This is an unlikely threat for R packages since the webserver that
listens for authorization responses is transient.)</p>
</td></tr>
<tr valign="top"><td><code>query</code></td>
<td>
<p>List of query parameters returned by <code>oauth_flow_auth_code_listen()</code>.</p>
</td></tr>
</table>

<hr /><div style="text-align: center;">[Package <em>httr2</em> version 1.1.2 <a href="00Index.html">Index</a>]</div>
</body></html>
